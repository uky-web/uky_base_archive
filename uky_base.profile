<?php

/**
 * @file
 * Enables modules and site configuration for a uky_base site installation.
 */

use Drupal\contact\Entity\ContactForm;
use Drupal\Core\Form\FormStateInterface;
use Drupal\uky_base_user\RolesHelper;


/**
 * Implements hook_form_FORM_ID_alter() for install_configure_form().
 *
 * Allows the profile to alter the site configuration form.
 */
function uky_base_form_install_configure_form_alter(&$form, FormStateInterface $form_state) {
  $form['#submit'][] = 'uky_base_form_install_configure_submit';
}

/**
 * Submission handler to sync the contact.form.feedback recipient.
 */
function uky_base_form_install_configure_submit($form, FormStateInterface $form_state) {
  $site_mail = $form_state->getValue('site_mail');
  ContactForm::load('feedback')->setRecipients([$site_mail])->trustData()->save();
}


/**
 * Implements hook_uky_roles_default
 */

 function uky_base_uky_roles_default(){
  return [
      RolesHelper::CONTENT_EDITOR => [
          'access administration pages',
          'access content overview',
          'access contextual links',
          'access media overview',
          'access media_browser_iframe entity browser pages',
          'access media_browser_modal entity browser pages',
          'access site in maintenance mode',
          'access taxonomy overview',
          'access toolbar',
          'access webform overview',
          'add embederator entity',
          'administer menu',
          'administer meta tags',
          'administer redirect settings',
          'administer redirects',
          'bypass eck entity access',
          'create audio media',
          'create event content',
          'create file media',
          'create hosted_video media',
          'create image media',
          'create media',
          'create news content',
          'create page content',
          'create paragraph content 2_1_slab',
          'create paragraph content body',
          'create paragraph content calls_to_action',
          'create paragraph content carousel',
          'create paragraph content custom_teasers',
          'create paragraph content editorial_aside',
          'create paragraph content embederator',
          'create paragraph content feed',
          'create paragraph content flex_grid',
          'create paragraph content gallery',
          'create paragraph content link_lists',
          'create paragraph content media',
          'create paragraph content statistics',
          'create paragraph content zipper',
          'create person content',
          'create terms in media_tags',
          'create terms in news_events_categories',
          'create terms in people_categories',
          'create url aliases',
          'create video media',
          'create webform',
          'customize shortcut links',
          'delete embederator entity',
          'delete own event content',
          'delete own news content',
          'delete own page content',
          'delete own person content',
          'delete own webform',
          'delete paragraph content 2_1_slab',
          'delete paragraph content body',
          'delete paragraph content calls_to_action',
          'delete paragraph content carousel',
          'delete paragraph content custom_teasers',
          'delete paragraph content editorial_aside',
          'delete paragraph content embederator',
          'delete paragraph content feed',
          'delete paragraph content flex_grid',
          'delete paragraph content gallery',
          'delete paragraph content link_lists',
          'delete paragraph content media',
          'delete paragraph content statistics',
          'delete paragraph content zipper',
          'delete terms in media_tags',
          'delete terms in news_events_categories',
          'delete terms in people_categories',
          'edit any audio media',
          'edit any event content',
          'edit any file media',
          'edit any hosted_video media',
          'edit any image media',
          'edit any news content',
          'edit any page content',
          'edit any person content',
          'edit any video media',
          'edit any webform',
          'edit any webform submission',
          'edit embederator entity',
          'edit own audio media',
          'edit own event content',
          'edit own file media',
          'edit own hosted_video media',
          'edit own image media',
          'edit own news content',
          'edit own page content',
          'edit own person content',
          'edit own video media',
          'edit own webform',
          'edit terms in media_tags',
          'edit terms in news_events_categories',
          'edit terms in people_categories',
          'hide format selection for paragraph',
          'override event published option',
          'override news authored on option',
          'override news published option',
          'override page published option',
          'override person published option',
          'update any media',
          'update media',
          'update paragraph content 2_1_slab',
          'update paragraph content body',
          'update paragraph content calls_to_action',
          'update paragraph content carousel',
          'update paragraph content custom_teasers',
          'update paragraph content editorial_aside',
          'update paragraph content embederator',
          'update paragraph content feed',
          'update paragraph content flex_grid',
          'update paragraph content gallery',
          'update paragraph content link_lists',
          'update paragraph content media',
          'update paragraph content statistics',
          'update paragraph content zipper',
          'use text format basic_html',
          'use text format inline_html',
          'use text format restricted_html',
          'view event revisions',
          'view news revisions',
          'view page revisions',
          'view person revisions',
          'view the administration theme',
      ],
      RolesHelper::CONTENT_MANAGER => [
        'access administration pages',
        'access content overview',
        'access contextual links',
        'access files overview',
        'access media overview',
        'access media_browser_iframe entity browser pages',
        'access media_browser_modal entity browser pages',
        'access site in maintenance mode',
        'access taxonomy overview',
        'access toolbar',
        'access webform overview',
        'add embederator entity',
        'administer emergency_alerts',
        'administer menu',
        'administer meta tags',
        'administer redirect settings',
        'administer redirects',
        'administer webform element access',
        'administer webform submission',
        'administer xmlsitemap',
        'bypass eck entity access',
        'bypass field_group_settings field visibility',
        'bypass node access',
        'create audio media',
        'create file media',
        'create hosted_video media',
        'create image media',
        'create media',
        'create terms in media_tags',
        'create terms in news_events_categories',
        'create terms in people_categories',
        'create url aliases',
        'create video media',
        'create webform',
        'customize shortcut links',
        'delete any media',
        'delete any webform',
        'delete any webform submission',
        'delete embederator entity',
        'delete files',
        'delete terms in media_tags',
        'delete terms in news_events_categories',
        'delete terms in people_categories',
        'edit any audio media',
        'edit any file media',
        'edit any hosted_video media',
        'edit any image media',
        'edit any video media',
        'edit any webform',
        'edit any webform submission',
        'edit embederator entity',
        'edit own audio media',
        'edit own file media',
        'edit own hosted_video media',
        'edit own image media',
        'edit own video media',
        'edit own webform',
        'edit terms in media_tags',
        'edit terms in news_events_categories',
        'edit terms in people_categories',
        'hide format selection for paragraph',
        'override event published option',
        'override news authored on option',
        'override news published option',
        'override page published option',
        'override person published option',
        'update any media',
        'update media',
        'use text format basic_html',
        'use text format inline_html',
        'use text format restricted_html',
        'view all media revisions',
        'view any webform submission',
        'view the administration theme',
      ],
      RolesHelper::SITE_BUILDER => [
        'access administration pages',
        'access any webform configuration',
        'access browse_files entity browser pages',
        'access browse_files_modal entity browser pages',
        'access content overview',
        'access media_browser_iframe entity browser pages',
        'access media_browser_modal entity browser pages',
        'access toolbar',
        'access user profiles',
        'administer block visibility groups',
        'administer block_content display',
        'administer block_content fields',
        'administer block_content form display',
        'administer blocks',
        'administer collection_item display',
        'administer collection_item fields',
        'administer collection_item form display',
        'administer content types',
        'administer display modes',
        'administer embederator display',
        'administer embederator fields',
        'administer embederator form display',
        'administer location display',
        'administer location fields',
        'administer location form display',
        'administer media display',
        'administer media fields',
        'administer media form display',
        'administer meta tags',
        'administer node display',
        'administer node fields',
        'administer node form display',
        'administer nodes',
        'administer page_header display',
        'administer page_header fields',
        'administer page_header form display',
        'administer paragraph display',
        'administer paragraph fields',
        'administer paragraph form display',
        'administer taxonomy',
        'administer taxonomy_term display',
        'administer taxonomy_term fields',
        'administer taxonomy_term form display',
        'administer views',
        'administer webform',
        'bypass eck entity access',
        'bypass field_group_settings field visibility',
        'bypass node access',
        'masquerade as authenticated',
        'masquerade as content_editor',
        'masquerade as content_manager',
        'override all authored by option',
        'override all authored on option',
        'override all promote to front page option',
        'override all published option',
        'override all revision option',
        'override all sticky option',
        'use text format basic_html',
        'use text format inline_html',
        'use text format restricted_html',
      ]

      ];

}



